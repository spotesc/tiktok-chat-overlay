const socket = new WebSocket('ws://localhost:10000'); // Replace with deployed backend WebSocket URL

socket.addEventListener('message', function (event) {
  const data = JSON.parse(event.data);
  const overlay = document.getElementById('overlay');

  if (data.type === 'chat') {
    const messageDiv = document.createElement('div');
    messageDiv.className = 'message';

    const profileImg = document.createElement('img');
    profileImg.src = data.profilePicture || 'https://placehold.co/32x32';
    profileImg.alt = 'User';

    const textSpan = document.createElement('span');
    textSpan.innerText = `${data.username || 'User'}: ${data.message || ''}`;

    messageDiv.appendChild(profileImg);
    messageDiv.appendChild(textSpan);

    overlay.appendChild(messageDiv);

    setTimeout(() => {
      messageDiv.remove();
    }, 10000);
  }
});
